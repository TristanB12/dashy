(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"0531":function(t,e,n){"use strict";n("064c")},"064c":function(t,e,n){},"286f":function(t,e,n){},2995:function(t,e,n){},4181:function(t,e,n){},"48ca":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container"},[n("VAuthCard",{attrs:{title:"Login to Dashy"}},[n("TheLoginForm")],1)],1)},o=[],r=n("a73e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-form"},[n("VLightButton",{attrs:{title:"Login with Facebook",iconName:"facebook_logo.png",width:"100%",isLoading:t.isLoading.facebook},nativeOn:{click:function(e){return t.loginWithFacebook.apply(null,arguments)}}}),n("VLightButton",{attrs:{title:"Login with Github",iconName:"github_logo.png",width:"100%",isLoading:t.isLoading.github},nativeOn:{click:function(e){return t.loginWithGithub.apply(null,arguments)}}}),t._m(0),t.error?n("span",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),n("VInput",{attrs:{type:"text",placeholder:"Email",width:"100%",iconName:"email_icon.png"},on:{"input-updated":t.setEmail}}),n("VInput",{attrs:{type:"password",placeholder:"Password",width:"100%",iconName:"password_icon.png"},on:{"input-updated":t.setPassword}}),n("VButton",{attrs:{title:"Login",width:"100%",isLoading:t.isLoading.login},nativeOn:{click:function(e){return t.loginWithEmail.apply(null,arguments)}}}),n("span",[t._v("Don't have an account ? "),n("router-link",{attrs:{to:{name:"SignupPage"}}},[t._v("Register")])],1)],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{staticClass:"line"}),n("span",[t._v("or")]),n("span",{staticClass:"line"})])}],c=n("1da1"),u=(n("96cf"),n("498a"),n("7c0b")),l=n("6cdc"),p=n("af5a"),d=n("b9cf"),f=n("8aa1"),h={components:{VLightButton:u["a"],VButton:p["a"],VInput:l["a"]},data:function(){return{isLoading:{facebook:!1,github:!1,login:!1},inputs:{email:"",password:""},error:void 0}},methods:{loginWithFacebook:function(){var t=this;this.isLoading.facebook=!0;var e=Object(f["facebookAuthCode"])("login"),n=setInterval((function(){e.closed&&(clearInterval(n),t.$router.push({name:"DashboardPage"}))}),500)},loginWithGithub:function(){var t=this;this.isLoading.github=!0;var e=Object(f["githubAuthCode"])("login"),n=setInterval((function(){e.closed&&(clearInterval(n),t.$router.push({name:"DashboardPage"}))}),500)},loginWithEmail:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.inputs.password.trim()&&""!==t.inputs.email.trim()){e.next=2;break}return e.abrupt("return");case 2:return t.isLoading.login=!0,e.next=5,Object(d["loginUser"])(t.inputs);case 5:n=e.sent,n[0]?(localStorage.setItem("access_token",n[0].access_token),t.$router.push({name:"DashboardPage"})):(console.log(n),t.error=n[1].message,t.isLoading.login=!1);case 7:case"end":return e.stop()}}),e)})))()},setEmail:function(t){this.inputs.email=t},setPassword:function(t){this.inputs.password=t}}},g=h,m=(n("d877"),n("2877")),b=Object(m["a"])(g,a,s,!1,null,"4c72d3ad",null),v=b.exports,y={components:{VAuthCard:r["a"],TheLoginForm:v}},w=y,_=(n("0531"),Object(m["a"])(w,i,o,!1,null,"52a36693",null));e["default"]=_.exports},"498a":function(t,e,n){"use strict";var i=n("23e7"),o=n("58a8").trim,r=n("c8d2");i({target:"String",proto:!0,forced:r("trim")},{trim:function(){return o(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var i=n("e330"),o=n("1d80"),r=n("577e"),a=n("5899"),s=i("".replace),c="["+a+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),p=function(t){return function(e){var n=r(o(e));return 1&t&&(n=s(n,u,"")),2&t&&(n=s(n,l,"")),n}};t.exports={start:p(1),end:p(2),trim:p(3)}},"7c0b":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"light-button",style:t.styleObject},[t.iconName&&!t.isLoading?n("img",{attrs:{src:t.imagePath,alt:t.iconName}}):t._e(),t.title&&!t.isLoading?n("span",[t._v(t._s(t.title))]):n("ClipLoader",{attrs:{size:"20px",color:"grey"}})],1)},o=[],r=n("da7a"),a={components:{ClipLoader:r["a"]},props:{title:{type:String,default:null},iconName:{type:String,default:null},isLoading:{type:Boolean,default:!1},width:{type:String,default:void 0}},computed:{styleObject:function(){return this.width?{width:this.width}:{}},imagePath:function(){return n("1771")("./".concat(this.iconName))}}},s=a,c=(n("8712"),n("2877")),u=Object(c["a"])(s,i,o,!1,null,"541100c6",null);e["a"]=u.exports},8712:function(t,e,n){"use strict";n("286f")},"8aa1":function(t,e,n){var i=n("b383"),o=function(t){var e=window.open("https://accounts.spotify.com/authorize?"+i.stringify({response_type:"code",client_id:"2cb4475d23514256b4c21375f3350e4d",scope:"user-read-private user-read-email user-top-read",redirect_uri:"https://dashyepitech.herokuapp.com/callback/spotify",state:t}));return e},r=function(t){var e=window.open("https://www.facebook.com/v12.0/dialog/oauth?"+i.stringify({client_id:"1205864576573521",scope:"email",redirect_uri:"https://dashyepitech.herokuapp.com/callback/facebook",state:t}));return e},a=function(t){var e=window.open("https://github.com/login/oauth/authorize?"+i.stringify({client_id:"e8f31010e5b77ef70302",scope:"user",state:t}));return e},s=function(t){var e=window.open("https://id.twitch.tv/oauth2/authorize?"+i.stringify({client_id:"eaqynw4jsaq3htstpbqxyo0s8icht3",redirect_uri:"https://dashyepitech.herokuapp.com/callback/twitch",response_type:"code",scope:"user:read:follows",state:t}));return e};t.exports={spotifyAuthCode:o,facebookAuthCode:r,twitchAuthCode:s,githubAuthCode:a}},"91dd":function(t,e,n){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,r){e=e||"&",n=n||"=";var a={};if("string"!==typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var c=1e3;r&&"number"===typeof r.maxKeys&&(c=r.maxKeys);var u=t.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var p,d,f,h,g=t[l].replace(s,"%20"),m=g.indexOf(n);m>=0?(p=g.substr(0,m),d=g.substr(m+1)):(p=g,d=""),f=decodeURIComponent(p),h=decodeURIComponent(d),i(a,f)?o(a[f])?a[f].push(h):a[f]=[a[f],h]:a[f]=h}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},a73e:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"auth-card"},[i("div",{staticClass:"header"},[i("img",{attrs:{src:n("cf05"),alt:"logo"}}),i("h1",[t._v(t._s(t.title))])]),i("div",{staticClass:"slot-container"},[t._t("default")],2)])},o=[],r={props:{title:{type:String,default:""}}},a=r,s=(n("e71d"),n("2877")),c=Object(s["a"])(a,i,o,!1,null,"6b27a124",null);e["a"]=c.exports},b383:function(t,e,n){"use strict";e.decode=e.parse=n("91dd"),e.encode=e.stringify=n("e099")},c8d2:function(t,e,n){var i=n("5e77").PROPER,o=n("d039"),r=n("5899"),a="​᠎";t.exports=function(t){return o((function(){return!!r[t]()||a[t]()!==a||i&&r[t].name!==t}))}},d877:function(t,e,n){"use strict";n("2995")},e099:function(t,e,n){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"===typeof t?r(a(t),(function(a){var s=encodeURIComponent(i(a))+n;return o(t[a])?r(t[a],(function(t){return s+encodeURIComponent(i(t))})).join(e):s+encodeURIComponent(i(t[a]))})).join(e):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function r(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},e71d:function(t,e,n){"use strict";n("4181")}}]);
//# sourceMappingURL=login.4cb17121.js.map