(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["signup"],{1539:function(t,e,n){},"286f":function(t,e,n){},4181:function(t,e,n){},"498a":function(t,e,n){"use strict";var i=n("23e7"),r=n("58a8").trim,a=n("c8d2");i({target:"String",proto:!0,forced:a("trim")},{trim:function(){return r(this)}})},"560f":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container"},[n("VAuthCard",{attrs:{title:"Signup to Dashy"}},[n("TheSignupForm")],1)],1)},r=[],a=n("a73e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"signup-form"},[n("VLightButton",{attrs:{title:"Sign up with Facebook",iconName:"facebook_logo.png",width:"100%",isLoading:t.isLoading.facebook},nativeOn:{click:function(e){return t.signupWithFacebook.apply(null,arguments)}}}),n("VLightButton",{attrs:{title:"Signup with Github",iconName:"github_logo.png",width:"100%",isLoading:t.isLoading.github},nativeOn:{click:function(e){return t.signupWithGithub.apply(null,arguments)}}}),t._m(0),t.error?n("span",{staticClass:"error",domProps:{innerHTML:t._s(t.error)}}):t._e(),n("VInput",{attrs:{type:"text",placeholder:"Email",width:"100%",iconName:"email_icon.png"},on:{"input-updated":t.setEmail}}),n("VInput",{attrs:{type:"password",placeholder:"Password",width:"100%",iconName:"password_icon.png"},on:{"input-updated":t.setPassword}}),n("VInput",{attrs:{type:"password",placeholder:"Confirm password",width:"100%",iconName:"password_icon.png"},on:{"input-updated":t.setConfirmPassword}}),n("VButton",{attrs:{title:"Sign up",width:"100%",isLoading:t.isLoading.signup},nativeOn:{click:function(e){return t.signupWithEmail.apply(null,arguments)}}}),n("span",[t._v("Already have an account ? "),n("router-link",{attrs:{to:{name:"LoginPage"}}},[t._v("Login")])],1)],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{staticClass:"line"}),n("span",[t._v("or")]),n("span",{staticClass:"line"})])}],c=n("1da1"),u=(n("96cf"),n("498a"),n("8aa1")),p=n("7c0b"),d=n("6cdc"),l=n("af5a"),f=n("b9cf"),h={components:{VLightButton:p["a"],VButton:l["a"],VInput:d["a"]},data:function(){return{isLoading:{facebook:!1,github:!1,signup:!1},inputs:{email:"",password:"",confirmPassword:""},error:void 0}},methods:{setEmail:function(t){this.inputs.email=t},setPassword:function(t){this.inputs.password=t},setConfirmPassword:function(t){this.inputs.confirmPassword=t},signupWithFacebook:function(){var t=this;this.isLoading.facebook=!0;var e=Object(u["facebookAuthCode"])("signup"),n=setInterval((function(){e.closed&&(clearInterval(n),t.$router.push({name:"DashboardPage"}))}),500)},signupWithGithub:function(){var t=this;this.isLoading.github=!0;var e=Object(u["githubAuthCode"])("signup"),n=setInterval((function(){e.closed&&(clearInterval(n),t.$router.push({name:"DashboardPage"}))}),500)},signupWithEmail:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.inputs.password.trim()&&""!==t.inputs.confirmPassword.trim()&&""!==t.inputs.email.trim()){e.next=2;break}return e.abrupt("return");case 2:if(t.inputs.password===t.inputs.confirmPassword){e.next=5;break}return t.error="Passwords are not identical.",e.abrupt("return");case 5:return t.isLoading.signup=!0,e.next=8,Object(f["signupUser"])(t.inputs);case 8:n=e.sent,n[0]?(localStorage.setItem("access_token",n[0].access_token),t.$router.push({name:"DashboardPage"})):(t.error=n[1].message,t.isLoading.signup=!1);case 10:case"end":return e.stop()}}),e)})))()}}},g=h,m=(n("7e9b"),n("2877")),b=Object(m["a"])(g,o,s,!1,null,"ccca33a6",null),v=b.exports,w={components:{VAuthCard:a["a"],TheSignupForm:v}},y=w,_=(n("a931"),Object(m["a"])(y,i,r,!1,null,"d13a0202",null));e["default"]=_.exports},"7c0b":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"light-button",style:t.styleObject},[t.iconName&&!t.isLoading?n("img",{attrs:{src:t.imagePath,alt:t.iconName}}):t._e(),t.title&&!t.isLoading?n("span",[t._v(t._s(t.title))]):n("ClipLoader",{attrs:{size:"20px",color:"grey"}})],1)},r=[],a=n("da7a"),o={components:{ClipLoader:a["a"]},props:{title:{type:String,default:null},iconName:{type:String,default:null},isLoading:{type:Boolean,default:!1},width:{type:String,default:void 0}},computed:{styleObject:function(){return this.width?{width:this.width}:{}},imagePath:function(){return n("1771")("./".concat(this.iconName))}}},s=o,c=(n("8712"),n("2877")),u=Object(c["a"])(s,i,r,!1,null,"541100c6",null);e["a"]=u.exports},"7e9b":function(t,e,n){"use strict";n("e3ea")},8712:function(t,e,n){"use strict";n("286f")},"8aa1":function(t,e,n){var i=n("b383"),r=function(t){var e=window.open("https://accounts.spotify.com/authorize?"+i.stringify({response_type:"code",client_id:"2cb4475d23514256b4c21375f3350e4d",scope:"user-read-private user-read-email user-top-read",redirect_uri:"https://dashyepitech.herokuapp.com/callback/spotify",state:t}));return e},a=function(t){var e=window.open("https://www.facebook.com/v12.0/dialog/oauth?"+i.stringify({client_id:"1205864576573521",scope:"email",redirect_uri:"https://dashyepitech.herokuapp.com/callback/facebook",state:t}));return e},o=function(t){var e=window.open("https://github.com/login/oauth/authorize?"+i.stringify({client_id:"e8f31010e5b77ef70302",scope:"user",state:t}));return e},s=function(t){var e=window.open("https://id.twitch.tv/oauth2/authorize?"+i.stringify({client_id:"eaqynw4jsaq3htstpbqxyo0s8icht3",redirect_uri:"https://dashyepitech.herokuapp.com/callback/twitch",response_type:"code",scope:"user:read:follows",state:t}));return e};t.exports={spotifyAuthCode:r,facebookAuthCode:a,twitchAuthCode:s,githubAuthCode:o}},"91dd":function(t,e,n){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,a){e=e||"&",n=n||"=";var o={};if("string"!==typeof t||0===t.length)return o;var s=/\+/g;t=t.split(e);var c=1e3;a&&"number"===typeof a.maxKeys&&(c=a.maxKeys);var u=t.length;c>0&&u>c&&(u=c);for(var p=0;p<u;++p){var d,l,f,h,g=t[p].replace(s,"%20"),m=g.indexOf(n);m>=0?(d=g.substr(0,m),l=g.substr(m+1)):(d=g,l=""),f=decodeURIComponent(d),h=decodeURIComponent(l),i(o,f)?r(o[f])?o[f].push(h):o[f]=[o[f],h]:o[f]=h}return o};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},a73e:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"auth-card"},[i("div",{staticClass:"header"},[i("img",{attrs:{src:n("cf05"),alt:"logo"}}),i("h1",[t._v(t._s(t.title))])]),i("div",{staticClass:"slot-container"},[t._t("default")],2)])},r=[],a={props:{title:{type:String,default:""}}},o=a,s=(n("e71d"),n("2877")),c=Object(s["a"])(o,i,r,!1,null,"6b27a124",null);e["a"]=c.exports},a931:function(t,e,n){"use strict";n("1539")},b383:function(t,e,n){"use strict";e.decode=e.parse=n("91dd"),e.encode=e.stringify=n("e099")},c8d2:function(t,e,n){var i=n("5e77").PROPER,r=n("d039"),a=n("5899"),o="​᠎";t.exports=function(t){return r((function(){return!!a[t]()||o[t]()!==o||i&&a[t].name!==t}))}},e099:function(t,e,n){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"===typeof t?a(o(t),(function(o){var s=encodeURIComponent(i(o))+n;return r(t[o])?a(t[o],(function(t){return s+encodeURIComponent(i(t))})).join(e):s+encodeURIComponent(i(t[o]))})).join(e):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(t)):""};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i));return n}var o=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},e3ea:function(t,e,n){},e71d:function(t,e,n){"use strict";n("4181")}}]);
//# sourceMappingURL=signup.674dcc72.js.map