{"version":3,"sources":["webpack:///./src/views/CallbackPage.vue?bedb","webpack:///src/views/CallbackPage.vue","webpack:///./src/views/CallbackPage.vue?01e6","webpack:///./src/views/CallbackPage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","error","_e","staticRenderFns","component"],"mappings":"mHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEJ,EAAS,MAAEI,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,UAAUT,EAAIU,QAClLC,EAAkB,G,iCCOtB,GACE,KADF,WAEI,MAAJ,CACM,WAAN,IAGE,QANF,WAOI,KAAJ,mBAEE,QAAF,CACI,gBADJ,WAEA,wBACQ,KAAR,8BAGA,gCACA,mBACA,iCACA,oBACA,mCACA,sBAEI,YAbJ,WAcM,IAAN,kBACQ,KAAR,yBAEA,GACQ,OAAR,OACQ,IAAR,oDACQ,QAAR,CACU,cAAV,+CACU,eAAV,oBAEQ,KAAR,GAEM,IAAN,GACA,iBAAQ,OAAR,kBACA,mBAAQ,IAAR,0BAEI,aA9BJ,WA8BM,IAAN,OACA,kBACQ,KAAR,yBAEA,GACQ,OAAR,OACQ,IAAR,8CACQ,QAAR,CACU,eAAV,oBAEQ,KAAR,GAEM,IAAN,GACA,kBACQ,aAAR,4CACQ,OAAR,WAEA,mBAAQ,OAAR,4BAEI,cAjDJ,WAiDM,IAAN,OACA,kBACQ,KAAR,yBAEA,GACQ,OAAR,OACQ,IAAR,+CACQ,QAAR,CACU,eAAV,oBAEQ,KAAR,GAEM,IAAN,GACA,kBACQ,aAAR,4CACQ,OAAR,WAEA,mBAAQ,OAAR,8BCnFsV,I,YCOlVC,EAAY,eACd,EACAb,EACAY,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/callback.7345a79d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.error)?_c('div',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.error))]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class=\"error\" v-if=\"error\">{{ error }}</div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\n    export default {\n        data() {\n            return {\n                error: undefined\n            }\n        },\n        mounted () {\n            this.processCallback();\n        },\n        methods: {\n            processCallback() {\n                if (this.$route.query.error) {\n                    this.error = this.$route.query.error;\n                    return;\n                }\n                if (this.$route.query.state == 'link')\n                    this.processLink();\n                else if (this.$route.query.state == 'login')\n                    this.processLogin();\n                else if (this.$route.query.state == 'signup')\n                    this.processSignup();\n            },\n            processLink() {\n                let data = JSON.stringify({\n                    code: this.$route.query.code\n                });\n                let config = {\n                    method: 'post',\n                    url: '/api/services/' + this.$route.params.service + '/link',\n                    headers: { \n                        'Authorization': 'Bearer ' + localStorage.getItem('access_token'), \n                        'Content-Type': 'application/json'\n                    },\n                    data : data\n                };\n                axios(config)\n                    .then(() => window.close())\n                    .catch(err => {his.error = err.response.data});\n            },\n            processLogin() {\n                let data = JSON.stringify({\n                    code: this.$route.query.code\n                });\n                let config = {\n                    method: 'post',\n                    url: '/api/auth/login/' + this.$route.params.service,\n                    headers: { \n                        'Content-Type': 'application/json'\n                    },\n                    data : data\n                };\n                axios(config)\n                    .then(res => {\n                        localStorage.setItem('access_token', res.data.access_token)\n                        window.close();\n                    })\n                    .catch(err => this.error = err.response.data);\n            },\n            processSignup() {\n                let data = JSON.stringify({\n                    code: this.$route.query.code\n                });\n                let config = {\n                    method: 'post',\n                    url: '/api/auth/signup/' + this.$route.params.service,\n                    headers: { \n                        'Content-Type': 'application/json'\n                    },\n                    data : data\n                };\n                axios(config)\n                    .then(res => {\n                        localStorage.setItem('access_token', res.data.access_token)\n                        window.close();\n                    })\n                    .catch(err => this.error = err.response.data);\n            }\n        },\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CallbackPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CallbackPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CallbackPage.vue?vue&type=template&id=78efc319&scoped=true&\"\nimport script from \"./CallbackPage.vue?vue&type=script&lang=js&\"\nexport * from \"./CallbackPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78efc319\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}